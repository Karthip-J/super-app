{"ast":null,"code":"import api from './api';\nconst authService = {\n  // Send OTP to mobile number\n  async sendOTP(phoneNumber) {\n    try {\n      const response = await api.post('/auth/partner/send-otp', {\n        phoneNumber\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Error sending OTP:', error);\n      throw error;\n    }\n  },\n  // Verify OTP and check partner status\n  async verifyOTP(phoneNumber, otp) {\n    try {\n      const response = await api.post('/auth/partner/verify-otp', {\n        phoneNumber,\n        otp\n      });\n\n      // Store token if received\n      if (response.data.token) {\n        localStorage.setItem('partnerToken', response.data.token);\n      }\n      return response.data;\n    } catch (error) {\n      console.error('Error verifying OTP:', error);\n      throw error;\n    }\n  },\n  // Check partner status\n  async checkPartnerStatus(phoneNumber) {\n    try {\n      const response = await api.get(`/auth/partner/status/${phoneNumber}`);\n      return response.data;\n    } catch (error) {\n      console.error('Error checking partner status:', error);\n      throw error;\n    }\n  },\n  // Upload documents for new partner\n  async updateProfile(formData) {\n    const response = await axios.put(`${API_URL}/auth/partner/profile`, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n        'x-auth-token': localStorage.getItem('token')\n      }\n    });\n    return response.data;\n  },\n  async uploadDocuments(formData) {\n    try {\n      const response = await api.post('/auth/partner/upload-documents', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Error uploading documents:', error);\n      throw error;\n    }\n  },\n  // Get current partner profile\n  async getPartnerProfile() {\n    try {\n      const response = await api.get('/auth/partner/profile', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('partnerToken')}`\n        }\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching profile:', error);\n      throw error;\n    }\n  },\n  // Logout\n  logout() {\n    localStorage.removeItem('partnerToken');\n    window.location.href = '/';\n  },\n  // Check if authenticated\n  isAuthenticated() {\n    return !!localStorage.getItem('partnerToken');\n  }\n};\nexport default authService;","map":{"version":3,"names":["api","authService","sendOTP","phoneNumber","response","post","data","error","console","verifyOTP","otp","token","localStorage","setItem","checkPartnerStatus","get","updateProfile","formData","axios","put","API_URL","headers","getItem","uploadDocuments","getPartnerProfile","logout","removeItem","window","location","href","isAuthenticated"],"sources":["C:/Users/THILOCIGAN/Documents/super_app-main_2/super_app-main/urban-partner-app/src/services/authService.js"],"sourcesContent":["import api from './api';\r\n\r\nconst authService = {\r\n  // Send OTP to mobile number\r\n  async sendOTP(phoneNumber) {\r\n    try {\r\n      const response = await api.post('/auth/partner/send-otp', { phoneNumber });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error sending OTP:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Verify OTP and check partner status\r\n  async verifyOTP(phoneNumber, otp) {\r\n    try {\r\n      const response = await api.post('/auth/partner/verify-otp', { phoneNumber, otp });\r\n\r\n      // Store token if received\r\n      if (response.data.token) {\r\n        localStorage.setItem('partnerToken', response.data.token);\r\n      }\r\n\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error verifying OTP:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Check partner status\r\n  async checkPartnerStatus(phoneNumber) {\r\n    try {\r\n      const response = await api.get(`/auth/partner/status/${phoneNumber}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error checking partner status:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Upload documents for new partner\r\n  async updateProfile(formData) {\r\n    const response = await axios.put(`${API_URL}/auth/partner/profile`, formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n        'x-auth-token': localStorage.getItem('token')\r\n      }\r\n    });\r\n    return response.data;\r\n  },\r\n\r\n  async uploadDocuments(formData) {\r\n    try {\r\n      const response = await api.post('/auth/partner/upload-documents', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data'\r\n        }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error uploading documents:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Get current partner profile\r\n  async getPartnerProfile() {\r\n    try {\r\n      const response = await api.get('/auth/partner/profile', {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('partnerToken')}`\r\n        }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error fetching profile:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Logout\r\n  logout() {\r\n    localStorage.removeItem('partnerToken');\r\n    window.location.href = '/';\r\n  },\r\n\r\n  // Check if authenticated\r\n  isAuthenticated() {\r\n    return !!localStorage.getItem('partnerToken');\r\n  }\r\n};\r\n\r\nexport default authService;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}